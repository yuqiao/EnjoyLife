# java编程思想

# 7 复用类

复用代码是Java众多引人注目的功能之一.

## 7.1 组合语法

引用初始化的地方:

1. 定义对象的地方.
2. 在类的构造器中
3. 惰性初始化, 在正要使用这些对象至二千.
4. 使用实例初始化

## 7.3 代理

## 7.7 向上转型

使用继承还是组合?

一个清晰的判断方法是问一问自己是否需要从新类向基类进行向上转型. 若需要, 则继承是必须的.

## 7.8 final关键字

final通常指:"这是无法改变的".

### 数据
- 对于基本类型, final使数值恒定不变
- 对于引用, 无法再改为指向另一个对象

# 8 多态

在面向对象的程序设计语言中, 多态是继数据对象和继承之后的第三种基本特征.

多态通过分离**做什么**和**怎么做**, 从另一个角度将接口和实现分离开来.

**封装**通过合并特征和行为来创建新的数据类型.

多态的作用则是消除**类型**之间的耦合关系.

绑定:

- 前期绑定
- 后期绑定

可扩展性. 多态是一项让程序员"将改变的事物与未变的事务分离开来"

只有非private方法才可以被覆盖, 当时还需要密切注意覆盖private方法的现象.

在导出类主体中,若没有明确指定调用某个基类构造器,它就会"默默"地调用默认构造器.

编写构造器准则: 用尽可能简单的方法使对象进入正常状态, 若干可以的话,避免调用其他方法.

在构造器内唯一能够按期调用的方法是基类中的final方法.

协变返回类型: 导出类中的被覆盖放客运返回基类方法的返回类型的某种导出类型. 

优先选择组合.

通用的准则: 用继承表达行为间的差异,并用字段表达状态上的变化.

# 9 接口

接口和内部类为我们提供了一种将接口和实现分离的更加结构化的方法.



# 12 通过异常处理错误

java的基本理念: 结构不佳的代码不能运行.

java的异常处理的目的在于通过使用少于目前数量的代码来简化大型,可靠的程序的生成,并通过这种方式使你更加自信:你的应用中没有未处理的错误.

## 12.1 概念

c以及其他语言错误处理模式的问题.

解决的办法: 用强制规定的形式来消除错误处理中随心所欲的因素.

另一个好处: 降低错误处理的复杂度.可以把"描述在正常执行过程中做什么事"和"出了问题怎么办"的代码分离.

## 12.2 基本异常

异常情形(exceptional condition)是指阻止当前方法或作用域继续执行的问题.

异常最重要的方面之一是: 如果发生问题, 它们将不允许程序沿着其正常的路径继续走下去.

例子:

    throw new NullPointerException("t = null");

## 12.3 捕获异常

try块:

    try{
        // code that might generate exceptions
    }catch(Type1 id1){
        // Handle exptions of Type1
    }catch(Type2 id2){
        // Handle exception of Type2 
    }

异常处理两种基本模型:
- 终止模型
- 恢复模型. 修正错误,然后重新尝试调用出问题的方法.

最终采用类似"终止模型"的代码. 恢复性的处理程序需要了解异常抛出的地点,势必要包含依赖于抛出位置的非通用性代码.增加了代码编写和维护的困难.

## 12.4 创建自定义异常

例子:

    class SimpleException extends Exception {}

    public class InheritingExceptions{
        public void f() throws SimpleException {
            System.out.println("Throw Exception from f()");
            throw new SimpleException();
        }
        public static main(String[] args){
            try{
                f();
            }catch(SimpleException e){
                System.out.println("Caugth it!");
            }
        }


## 12.12 其它可选方式

异常处理的原则之一: 只有在你知道如何处理时才捕获异常.

异常处理的目标之一: 把错误处理的代码和错误发生的地点分离开. 让两部分代码各专注各的.


